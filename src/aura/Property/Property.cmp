<aura:component implements="force:hasRecordId,flexipage:availableForRecordHome">

  <aura:attribute name="vfHost" type="String" default="energygeeks-matt-dev-ed--c.na73.visual.force.com" />
  <aura:attribute name="markerInOriginalPos" type="Boolean" default="true" />
  <aura:attribute name="callResetRecordMethod" type="Boolean" default="false" />
  <aura:attribute name="layers" type="Object[]" />
  <aura:attribute name="address" type="String" />
  <aura:attribute name="record" type="Object" />
  <aura:attribute name="fullRecord" type="Object" />
  <aura:attribute name="recordError" type="String" />
  <aura:attribute name="DEBUG_eventData" type="String" default="Nada"/>
  <aura:attribute name="DEBUG_saveRecordEvent" type="String" default="Nada"/>
  <aura:attribute name="DEBUG_saveRecordResults" type="String" default="Nada"/>
  <aura:attribute name="DEBUG_recordUpdatedChangeType" type="String" default="Nada"/>
  <aura:attribute name="DEBUG_changedFields" type="String" default="Nada"/>
  <aura:attribute name="DEBUG_record" type="String" default="Nada"/>
  <aura:attribute name="DEBUG_fullRecord" type="String" default="Nada"/>
  <aura:attribute name="DEBUG_layers" type="String" />

  <aura:handler name="init" value="{! this }" action="{! c.doInit }" />
  <aura:handler name="updateRecord" event="c:PropertyUpdateRecord" action="{! c.handleUpdateRecord }" />
  <aura:handler name="saveRecord" event="c:PropertySaveRecord" action="{! c.handleSaveRecord }" />
  <aura:handler name="resetRecord" event="c:PropertyResetRecord" action="{! c.handleResetRecord }" />
  <aura:handler name="toggleLayer" event="c:PropertyToggleLayer" action="{! c.handleToggleLayer }" />

  <force:recordData
    aura:id="forceRecord"
    recordId="{! v.recordId }"
    fields="Name,Street,City,State,Country,PostalCode,Latitude,Longitude"
    targetError="{! v.recordError }"
    targetRecord="{! v.fullRecord }"
    targetFields="{! v.record }"
    mode="EDIT"
    recordUpdated="{! c.recordUpdated }"
    />

  <div class="c-container">

  <p><b>Property.cmp</b></p>
  <p><b>layers:</b> {!v.DEBUG_layers}</p>
  <p><b>save record event:</b> {!v.DEBUG_saveRecordEvent}</p>
  <p><b>save record results:</b> {!v.DEBUG_saveRecordResults}</p>
  <p><b>record updated changeType:</b> {!v.DEBUG_recordUpdatedChangeType}</p>
  <p><b>changed fields:</b> {!v.DEBUG_changedFields}</p>
  <p><b>event data:</b> {!v.DEBUG_eventData}</p>

    <lightning:layout multipleRows="true" verticalAlign="start" >

      <lightning:layoutItem size="12" >
        <c:PropertyMap
          aura:id="propertyMapCmp"
          vfHost="{# v.vfHost }"
          address="{! v.address }"
          record="{! v.record }"
          layers="{! v.layers }"
          />
      </lightning:layoutItem>

      <lightning:layoutItem size="12" >
        <c:PropertyOptions
          layers="{! v.layers }"
          />
      </lightning:layoutItem>

      <lightning:layoutItem size="12" >
        <c:PropertyDetails
          aura:id="propertyDetailsCmp"
          markerInOriginalPos="{!v.markerInOriginalPos}"
          address="{! v.address }"
          record="{! v.record }"
          DEBUG_layers="{!v.DEBUG_layers}"
          />
      </lightning:layoutItem>

    </lightning:layout>

  </div>

</aura:component>
